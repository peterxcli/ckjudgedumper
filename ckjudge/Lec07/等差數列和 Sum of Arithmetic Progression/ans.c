int sum(int a_i) {
    int n = (a_n - a_1) / d + 1;
    return n * (a_1 + a_n) / 2;
}